{"name":"Log","hostname":"05faf860295b","pid":1,"level":50,"err":{"id":500,"domain":"http://localhost:8080","code":"ECONNREFUSED","name":"DatabaseError","statusCode":500,"level":"normal","message":"connect ECONNREFUSED 172.23.0.2:3306","help":"\"Unknown database error\"","stack":"DatabaseError: connect ECONNREFUSED 172.23.0.2:3306\n    at DatabaseError.KnexMigrateError (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/lib/errors.js:7:26)\n    at new DatabaseError (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/lib/errors.js:55:26)\n    at /var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/lib/database.js:48:19\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\n\nError: connect ECONNREFUSED 172.23.0.2:3306\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1144:16)\n    --------------------\n    at Protocol._enqueue (/var/lib/ghost/versions/3.42.5/node_modules/mysql/lib/protocol/Protocol.js:144:48)\n    at Protocol.handshake (/var/lib/ghost/versions/3.42.5/node_modules/mysql/lib/protocol/Protocol.js:51:23)\n    at Connection.connect (/var/lib/ghost/versions/3.42.5/node_modules/mysql/lib/Connection.js:116:18)\n    at /var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:69:18\n    at new Promise (<anonymous>)\n    at Client_MySQL.acquireRawConnection (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:64:12)\n    at create (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/node_modules/knex/lib/client.js:291:39)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"},"msg":"connect ECONNREFUSED 172.23.0.2:3306","time":"2021-05-07T11:27:48.219Z","v":0}
{"name":"Log","hostname":"05faf860295b","pid":1,"level":50,"err":{"id":500,"domain":"http://localhost:8080","code":"ECONNREFUSED","name":"DatabaseError","statusCode":500,"level":"normal","message":"connect ECONNREFUSED 172.23.0.2:3306","help":"\"Unknown database error\"","stack":"DatabaseError: connect ECONNREFUSED 172.23.0.2:3306\n    at DatabaseError.KnexMigrateError (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/lib/errors.js:7:26)\n    at new DatabaseError (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/lib/errors.js:55:26)\n    at /var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/lib/database.js:48:19\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\n\nError: connect ECONNREFUSED 172.23.0.2:3306\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1144:16)\n    --------------------\n    at Protocol._enqueue (/var/lib/ghost/versions/3.42.5/node_modules/mysql/lib/protocol/Protocol.js:144:48)\n    at Protocol.handshake (/var/lib/ghost/versions/3.42.5/node_modules/mysql/lib/protocol/Protocol.js:51:23)\n    at Connection.connect (/var/lib/ghost/versions/3.42.5/node_modules/mysql/lib/Connection.js:116:18)\n    at /var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:69:18\n    at new Promise (<anonymous>)\n    at Client_MySQL.acquireRawConnection (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:64:12)\n    at create (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/node_modules/knex/lib/client.js:291:39)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"},"msg":"connect ECONNREFUSED 172.23.0.2:3306","time":"2021-05-07T11:27:50.997Z","v":0}
{"name":"Log","hostname":"05faf860295b","pid":1,"level":50,"err":{"id":500,"domain":"http://localhost:8080","code":"ECONNREFUSED","name":"DatabaseError","statusCode":500,"level":"normal","message":"connect ECONNREFUSED 172.23.0.2:3306","help":"\"Unknown database error\"","stack":"DatabaseError: connect ECONNREFUSED 172.23.0.2:3306\n    at DatabaseError.KnexMigrateError (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/lib/errors.js:7:26)\n    at new DatabaseError (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/lib/errors.js:55:26)\n    at /var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/lib/database.js:48:19\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\n\nError: connect ECONNREFUSED 172.23.0.2:3306\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1144:16)\n    --------------------\n    at Protocol._enqueue (/var/lib/ghost/versions/3.42.5/node_modules/mysql/lib/protocol/Protocol.js:144:48)\n    at Protocol.handshake (/var/lib/ghost/versions/3.42.5/node_modules/mysql/lib/protocol/Protocol.js:51:23)\n    at Connection.connect (/var/lib/ghost/versions/3.42.5/node_modules/mysql/lib/Connection.js:116:18)\n    at /var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:69:18\n    at new Promise (<anonymous>)\n    at Client_MySQL.acquireRawConnection (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/node_modules/knex/lib/dialects/mysql/index.js:64:12)\n    at create (/var/lib/ghost/versions/3.42.5/node_modules/knex-migrator/node_modules/knex/lib/client.js:291:39)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"},"msg":"connect ECONNREFUSED 172.23.0.2:3306","time":"2021-05-07T11:27:53.765Z","v":0}
{"name":"Log","hostname":"05faf860295b","pid":1,"level":50,"req":{"meta":{"requestId":"5dc680eb-b9eb-4df5-8521-51766a836bfc","userId":null},"url":"/users/me/?include=roles","method":"GET","originalUrl":"/ghost/api/v3/admin/users/me/?include=roles","params":{},"headers":{"host":"localhost:8080","user-agent":"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:88.0) Gecko/20100101 Firefox/88.0","accept":"application/json, text/javascript, */*; q=0.01","accept-language":"en-US,en;q=0.5","accept-encoding":"gzip, deflate","content-type":"application/json; charset=UTF-8","x-ghost-version":"3.42","app-pragma":"no-cache","x-requested-with":"XMLHttpRequest","connection":"keep-alive","referer":"http://localhost:8080/ghost/","cookie":"**REDACTED**"},"query":{"include":"roles"}},"res":{"_headers":{"x-powered-by":"Express","cache-control":"no-cache, private, no-store, must-revalidate, max-stale=0, post-check=0, pre-check=0","content-type":"application/json; charset=utf-8","content-length":"321","etag":"W/\"141-d8f6M8s/q4B0dNyvw5oXCYean68\"","vary":"Accept-Encoding"},"statusCode":403,"responseTime":"12ms"},"err":{"id":"5f6a9d20-af27-11eb-8a9a-438b7ff2f90f","domain":"http://localhost:8080","code":null,"name":"NoPermissionError","statusCode":403,"level":"normal","message":"Authorization failed","context":"\"Unable to determine the authenticated user or integration. Check that cookies are being passed through if using session authentication.\"","stack":"NoPermissionError: Authorization failed\n    at new NoPermissionError (/var/lib/ghost/versions/3.42.5/node_modules/@tryghost/errors/node_modules/ghost-ignition/lib/errors/index.js:134:23)\n    at authorizeAdminApi (/var/lib/ghost/versions/3.42.5/core/server/services/auth/authorize.js:28:25)\n    at Layer.handle [as handle_request] (/var/lib/ghost/versions/3.42.5/node_modules/express/lib/router/layer.js:95:5)\n    at next (/var/lib/ghost/versions/3.42.5/node_modules/express/lib/router/route.js:137:13)\n    at authenticate (/var/lib/ghost/versions/3.42.5/core/server/services/auth/session/middleware.js:28:13)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"},"msg":"Authorization failed","time":"2021-05-07T11:28:40.439Z","v":0}
{"name":"Log","hostname":"05faf860295b","pid":1,"level":50,"err":{"id":"7bb75590-af27-11eb-8a9a-438b7ff2f90f","domain":"http://localhost:8080","code":null,"name":"EmailError","statusCode":500,"level":"normal","message":"Failed to send email. Reason: 421 4.3.0 closing connection due to limit reached.","context":"\"Unable to send welcome email, your site will continue to function.\"","help":"\"Please see https://ghost.org/docs/config/#mail for instructions on configuring email.\"","stack":"EmailError: Failed to send email. Reason: 421 4.3.0 closing connection due to limit reached.\n    at EmailError.GhostError (/var/lib/ghost/versions/3.42.5/node_modules/@tryghost/errors/lib/errors.js:10:26)\n    at new EmailError (/var/lib/ghost/versions/3.42.5/node_modules/@tryghost/errors/lib/errors.js:34:20)\n    at createMailError (/var/lib/ghost/versions/3.42.5/core/server/services/mail/GhostMailer.js:52:12)\n    at EventEmitter.<anonymous> (/var/lib/ghost/versions/3.42.5/core/server/services/mail/GhostMailer.js:119:28)\n    at Object.onceWrapper (events.js:421:26)\n    at EventEmitter.emit (events.js:314:20)\n    at EventEmitter.emit (domain.js:483:12)\n    at DirectMailer.<anonymous> (/var/lib/ghost/versions/3.42.5/node_modules/directmail/lib/mailer.js:185:42)\n    at SMTPClient.<anonymous> (/var/lib/ghost/versions/3.42.5/node_modules/directmail/lib/mailer.js:277:9)\n    at Object.onceWrapper (events.js:421:26)\n    at SMTPClient.emit (events.js:314:20)\n    at SMTPClient.EventEmitter.emit (domain.js:483:12)\n    at SMTPClient._onError (/var/lib/ghost/versions/3.42.5/node_modules/simplesmtp/lib/client.js:373:10)\n    at SMTPClient._actionIdle (/var/lib/ghost/versions/3.42.5/node_modules/simplesmtp/lib/client.js:965:14)\n    at SMTPClient._onData (/var/lib/ghost/versions/3.42.5/node_modules/simplesmtp/lib/client.js:354:29)\n    at Socket.emit (events.js:314:20)"},"msg":"Failed to send email. Reason: 421 4.3.0 closing connection due to limit reached.","time":"2021-05-07T11:29:27.915Z","v":0}
{"name":"Log","hostname":"05faf860295b","pid":1,"level":50,"err":{"id":"083b8350-af29-11eb-8a9a-438b7ff2f90f","domain":"http://localhost:8080","code":"IMAGE_SIZE_URL","name":"InternalServerError","statusCode":500,"level":"critical","message":"Unknown Request error.","context":"\"http://localhost:8080/favicon.ico\"","stack":"InternalServerError: Unknown Request error.\n    at new InternalServerError (/var/lib/ghost/versions/3.42.5/node_modules/@tryghost/errors/node_modules/ghost-ignition/lib/errors/index.js:90:23)\n    at /var/lib/ghost/versions/3.42.5/core/server/lib/image/image-size.js:179:35\n    at tryCatcher (/var/lib/ghost/versions/3.42.5/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/var/lib/ghost/versions/3.42.5/node_modules/bluebird/js/release/promise.js:547:31)\n    at Promise._settlePromise (/var/lib/ghost/versions/3.42.5/node_modules/bluebird/js/release/promise.js:604:18)\n    at Promise._settlePromise0 (/var/lib/ghost/versions/3.42.5/node_modules/bluebird/js/release/promise.js:649:10)\n    at Promise._settlePromises (/var/lib/ghost/versions/3.42.5/node_modules/bluebird/js/release/promise.js:725:18)\n    at _drainQueueStep (/var/lib/ghost/versions/3.42.5/node_modules/bluebird/js/release/async.js:93:12)\n    at _drainQueue (/var/lib/ghost/versions/3.42.5/node_modules/bluebird/js/release/async.js:86:9)\n    at Async._drainQueues (/var/lib/ghost/versions/3.42.5/node_modules/bluebird/js/release/async.js:102:5)\n    at Immediate.Async.drainQueues [as _onImmediate] (/var/lib/ghost/versions/3.42.5/node_modules/bluebird/js/release/async.js:15:14)\n    at processImmediate (internal/timers.js:461:21)\n\nRequestError: connect ECONNREFUSED 127.0.0.1:8080\n    at ClientRequest.<anonymous> (/var/lib/ghost/versions/3.42.5/node_modules/got/source/request-as-event-emitter.js:178:14)\n    at Object.onceWrapper (events.js:421:26)\n    at ClientRequest.emit (events.js:326:22)\n    at ClientRequest.EventEmitter.emit (domain.js:483:12)\n    at ClientRequest.origin.emit (/var/lib/ghost/versions/3.42.5/node_modules/@szmarczak/http-timer/source/index.js:37:11)\n    at Socket.socketErrorListener (_http_client.js:427:9)\n    at Socket.emit (events.js:314:20)\n    at Socket.EventEmitter.emit (domain.js:483:12)\n    at emitErrorNT (internal/streams/destroy.js:92:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)"},"msg":"Unknown Request error.","time":"2021-05-07T11:40:33.158Z","v":0}
